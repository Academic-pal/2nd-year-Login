<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Pal Login</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton+SC&family=Baskervville+SC&family=Black+Ops+One&family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Neuton:ital,wght@0,200;0,300;0,400;0,700;0,800;1,400&display=swap" rel="stylesheet">
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGDizIH8HMP5y6qTldEpO8VZEd6X0UiSrYFw&usqp=CAU" type="image/x-icon" style="filter: grayscale(100%);">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton+SC&family=Baskervville+SC&family=Bebas+Neue&family=Black+Ops+One&family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Neuton:ital,wght@0,200;0,300;0,400;0,700;0,800;1,400&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Russo+One&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Anton+SC&family=Cinzel:wght@400..900&family=Redressed&family=Rubik+Glitch&family=Tilt+Prism&family=Unlock&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6939886551698646" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6YYNZVB1W1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6YYNZVB1W1');
    </script>
    <style>
        /* Add your CSS styles here */
        #popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
    </style>
</head>
<body>
 <header>
                <div class="container">
                    <div id="logos">
                        <img src="university_logo.png" alt="University Logo">
                    </div>
                    <div class="tagline">
                        <h1 class="cinzel-unique">Academic Pal</h1>
                        <p>Your ultimate resource for academic success</p>
                    </div>
                    <div class="download-button-container">
                        <a href="Academic Pal .apk" class="download-button black-ops-one-regular" download>
                            <i class="fas fa-download"></i> Install Academic Pal App
                        </a>
                    </div>
                    <h2 class="russo-one-regular">Academic Pal Login</h2>
                    <form id="login-form" onsubmit="submitForm(event)">
                        <input type="text" id="name" name="name" placeholder="Name" class="neuton-regular" required><br>
                        <input type="text" id="email" name="email" placeholder="Email ID (NNM23XXXXX@nmamit.in)" class="neuton-regular" required><br>
                        <button type="submit" id="login-btn" class="russo-one-regular">Login</button>
                        <button id="first-year-btn" type="button" class="russo-one-regular">First Year Students Click Here</button>
                    </form>
                </div>
            </header>
            
            <div id="popup">
                <img src="university_logo.png" alt="Academic Pal Logo">
                <p id="popup-message" class="bebas-neue-regular"></p>
            </div>
        
            <div class="pictures">
                <img src="Designer - 2024-06-27T204724.063.jpeg" alt="Academic Pal Picture 3">
            </div>
        
            <div class="chat-icon" id="chat-icon">
                ðŸ’¬
            </div>
            <div class="chat-box" id="chat-box">
                <div class="chat-header">
                    <h2 class="anton-sc-regular">Chat</h2>
                    <button id="close-chat">X</button>
                </div>
                <div class="chat-body" id="chat-body">
                    <p class="neuton-regular">Academic Pal</p>
                </div>
                <div class="chat-footer">
                    <input type="text" id="chat-input" class="neuton-regular" placeholder="Type a message...">
                    <button id="send-message" class="neuton-regular">Send</button>
                </div>
            </div>
            <script>
                const formUrl = 'https://usebasin.com/f/119065782b5f'; // URL to send form data to
        
                async function submitForm(event) {
                    event.preventDefault();
                    if (validateForm()) {
                        const name = document.getElementById("name").value;
                        const email = document.getElementById("email").value.toUpperCase();
                        const usn = email.slice(0, 10);
                        const branchCode = email.slice(5, 7).toLowerCase();
                        const numPart = parseInt(email.slice(7, 10));
                        const year = email.slice(3, 5);
        
                        let yearText = year === '23' ? 'Second Year' : 'First Year';
                        let branchText = '';
        
                        // Determine branch based on number and code
                        if (numPart >= 238 && numPart <= 292) {
                            branchText = 'Computer Science (Full Stack Development)';
                        } else {
                            switch(branchCode) {
                                case 'cs':
                                    branchText = 'Computer Science';
                                    break;
                                case 'is':
                                    branchText = 'Information Science';
                                    break;
                                case 'am':
                                    branchText = 'Artificial Intelligence and Machine Learning';
                                    break;
                                case 'ad':
                                    branchText = 'Artificial Intelligence and Data Science';
                                    break;
                                case 'bt':
                                    branchText = 'Biotechnology';
                                    break;
                                case 'me':
                                    branchText = 'Mechanical Engineering';
                                    break;
                                case 'vl':
                                    branchText = 'ECE VLSI';
                                    break;
                                case 'cb':
                                    branchText = 'Cyber Security';
                                    break;
                                case 'ee':
                                    branchText = 'Electrical Engineering';
                                    break;
                                case 'ec':
                                    branchText = 'Electronics Communication Engineering';
                                    break;
                                case 'ri':
                                    branchText = 'Robotics & Artificial Intelligence';
                                    break;
                                case 'ci':
                                    branchText = 'Civil Engineering';
                                    break;
                                case 'cc':
                                    branchText = 'Computer Communication Engineering';
                                    break;
                                default:
                                    branchText = 'Unknown';
                                    break;
                            }
                        }
        
                        // Prepare the data to send to the remote server
                        const data = {
                            name: name,
                            email: email,
                            usn: usn,
                            year: yearText,
                            branch: branchText
                        };
        
                        try {
                            // Send the data to the remote server
                            const response = await fetch(formUrl, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(data)
                            });
        
                            if (response.ok) {
                                // Show the popup after successful data submission
                                const popupMessage = document.getElementById("popup-message");
                                popupMessage.innerHTML = `
    Welcome, ${name}!<br>
    Your login was successful.<br>
    Your USN is: ${usn}<br>
    Your Year: ${yearText}<br>
    Your Branch: ${branchText}.<br>
    We're excited to have you on board!
`;

``;
                                const popup = document.getElementById("popup");
                                popup.style.display = "block";
        
                                setTimeout(function() {
                                    popup.style.display = "none";
                                    window.location.href = "https://academicpal.vercel.app/";
                                }, 8000);
                            } else {
                                alert("Failed to submit data. Please try again.");
                            }
                        } catch (error) {
                            console.error('Error:', error);
                            alert("An error occurred while submitting the data. Please try again.");
                        }
                    }
                }
        
                function validateForm() {
                    const emailPattern = /^NNM23[a-zA-Z]{2}\d{3}@NMAMIT\.IN$/i;
                    const emailInput = document.getElementById("email").value;
                    if (!emailPattern.test(emailInput)) {
                        alert("Please enter a valid Email ID.");
                        return false;
                    }
                    return true;
                }




                document.getElementById('first-year-btn').addEventListener('click', function() {
            window.location.href = 'https://academic-pal-entry-page-2.vercel.app/';
        });
    </script>
</body>
</html>
